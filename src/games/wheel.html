<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Колесо фортуны</title>
</head>
<body id="blue-grey1" class="wheelgames">
    <div class="menu">
        <a href="../index.html">
            <div class="Logo">
                <img src="../images/Logo/Logo.svg" alt="">
            </div>
        </a>
        <div class="icons">
            <a href="../Trips.html">
                <div class="A_Menu-Routes">
                    <div class="Q_Menu-Routes">
                        <img src="../images/Q_Menu/3dicons.png" alt="">
                    </div>
                    <p class="p-desktop">Маршруты</p>
                </div>
            </a>
            <a href="../Advices.html">
                <div class="A_Menu-Advice">
                        <div class="Q_Menu-Adviсe">
                            <img src="../images/Q_Menu/road-bag 1.png" alt="">
                        </div>
                        <p class="p-desktop">Советы</p>
                </div>
            </a>
            <a href="../games.html">
                <div class="A_Menu-Way">
                    <div class="Q_Menu-Way">
                        <img src="../images/Q_Menu/pin 1.png" alt="">
                    </div>
                    <p class="p-desktop">В пути</p>
                </div>
            </a>
        </div>
        <div class="A_Search">
            <div class="Q_Icons-Search">
                <img src="../images/Q_Icons/Search.svg" alt="">
            </div>
            <p class="p-desktop">Поиск</p>
        </div>
    </div>
    <div class="menu-mobile">
        <a href="../index.html">
            <div class="Symbol">
                <img src="../images/Logo/Union.svg" alt="">
            </div>
        </a>
        <div class="A_Search">
            <div class="Q_Icons-Search">
                <img src="../images/Q_Icons/Search.svg" alt="">
            </div>
            <p class="p-desktop">Поиск</p>
        </div>
        <div class="Q_Icons-Burger">
            <img src="../images/Q_Icons/Burger.svg" alt="">
        </div>
    </div>
    <div class="blur-mobile"></div>
    <div class="none">
        <div class="mobile-popupMenu">
            <div class="icons-mobile">
                <div class="burger-menu">
                    <a href="../Trips.html">
                        <div class="A_Menu-Routes">
                            <div class="Q_Menu-Routes">
                                <img src="../images/Q_Menu/3dicons.png" alt="">
                            </div>
                            <p class="p-desktop">Маршруты</p>
                        </div>
                    </a>
                    <div class="mini-menu">
                        <div class="Q_Icons-Cross close">
                            <img src="../images/Q_Icons/Cross.svg" alt="">
                        </div>
                    </div>
                </div>
                <a href="../Advices.html">
                    <div class="A_Menu-Advice">
                            <div class="Q_Menu-Adviсe">
                            <img src="../images/Q_Menu/road-bag 1.png" alt="">
                            </div>
                            <p class="p-desktop">Советы</p>
                    </div>
                </a>
                <a href="../games.html">
                    <div class="A_Menu-Way">
                        <div class="Q_Menu-Way">
                            <img src="../images/Q_Menu/pin 1.png" alt="">
                        </div>
                        <p class="p-desktop">В пути</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="heading">
        <h2 class="h2-desktop">Колесо фортуны</h2>
        <div class="mainbox" id="mainbox">
            <div class="box" id="box">
                <div class="box1">
                    <span class="font span1"><p class="p-desktop">Клин</p></span>
                    <span class="font span2"><p class="p-desktop">Таруса</p></span>
                    <span class="font span3"><p class="p-desktop">Подольск</p></span>
                    <span class="font span4"><p class="p-desktop">Шатура</p></span>
                    <span class="font span5"><p class="p-desktop">Иваново</p></span>
                    <span class="font span6"><p class="p-desktop">Кострома</p></span>
                </div>
                <div class="box2">
                    <span class="font span1"><p class="p-desktop">Клин</p></span>
                    <span class="font span2"><p class="p-desktop">Таруса</p></span>
                    <span class="font span3"><p class="p-desktop">Подольск</p></span>
                    <span class="font span4"><p class="p-desktop">Шатура</p></span>
                    <span class="font span5"><p class="p-desktop">Иваново</p></span>
                    <span class="font span6"><p class="p-desktop">Кострома</p></span>
                </div>
            </div>
            <button class="spin" onclick="spinWheel()"><p class="p-desktop">Крутить</p></button>
        </div>
    </div>
    <div id="blue-grey" class="footer">
        <div class="Symbol">
            <img src="../images/Logo/Union.svg" alt="">
        </div>
        <div class="hse adc">
            <p class="p-desktop">HSE ADC</p>
        </div>
        <div class="socials">
            <div class="Q_Social-TG">
                <img src="../images/Q_Social/TG.svg" alt="">
            </div>
            <div class="Q_Social-IG">
                <img src="../images/Q_Social/IG.svg" alt="">
            </div>
            <div class="Q_Social-VK">
                <img src="../images/Q_Social/VK.svg" alt="">
            </div>
            <div class="Q_Social-Dzen">
                <img src="../images/Q_Social/Dzen.svg" alt="">
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
    function shuffle(array) {
        var currentIndex = array.length,
            randomIndex;
    
        while (0 != currentIndex) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [
                array[randomIndex],
                array[currentIndex],
            ];
        }
        return array;
    }
    
    let currentAngle = 0;
    let results = []; 
    
    function spinWheel() {
        const box = document.getElementById("box");
        const element = document.getElementById("mainbox");
        let SelectedItem = "";
    
        let Klin = shuffle([1890, 2250, 2610]);
        let Tarusa = shuffle([1890, 2210, 2570]);
        let Podolsk = shuffle([1770, 2130, 2490]);
        let Shatura = shuffle([1910, 2170, 2530]);
        let Ivanovo = shuffle([1750, 2110, 2470]);
        let Kostroma = shuffle([1750, 2110, 2470]);

    
        let newResults = shuffle([
            Klin[0],
            Tarusa[0],
            Podolsk[0],
            Shatura[0],
            Ivanovo[0],
            Kostroma[0],
        ]);
    
        results = results.concat(newResults); 
        if (Klin.includes(newResults[0])) SelectedItem = "Клин";
        if (Tarusa.includes(newResults[0])) SelectedItem = "Таруса";
        if (Podolsk.includes(newResults[0])) SelectedItem = "Подольск";
        if (Shatura.includes(newResults[0])) SelectedItem = "Шатура";
        if (Ivanovo.includes(newResults[0])) SelectedItem = "Иваново";
        if (Kostroma.includes(newResults[0])) SelectedItem = "Кострома";

    
        let rotationAngle = currentAngle + newResults[0]; 
    
        box.style.setProperty("transition", "all ease 5s");
        box.style.transform = "rotate(" + rotationAngle + "deg)";
        element.classList.remove("animate");
        setTimeout(function () {
            element.classList.add("animate");
            setTimeout(function () {
                // alert
            });
        }, 100); 
    
        currentAngle = rotationAngle; 
    }
    </script>
</body>
</html>